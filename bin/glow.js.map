{"version":3,"file":"glow.js","sources":["../src/glow/GlowFilter.js"],"sourcesContent":["import vertex from './glow.vert';\nimport fragment from './glow.frag';\n\n/**\n * GlowFilter, originally by mishaa\n * http://www.html5gamedevs.com/topic/12756-glow-filter/?hl=mishaa#entry73578\n * http://codepen.io/mishaa/pen/raKzrm\n *\n * @class\n * \n * @extends PIXI.Filter\n * @memberof PIXI.filters\n * @param {number} [distance=10] The distance of the glow. Make it 2 times more for resolution=2. It cant be changed after filter creation\n * @param {number} [outerStrength=4] The strength of the glow outward from the edge of the sprite.\n * @param {number} [innerStrength=0] The strength of the glow inward from the edge of the sprite.\n * @param {number} [color=0xffffff] The color of the glow.\n * @param {number} [quality=0.1] A number between 0 and 1 that describes the quality of the glow.\n *\n * @example\n *  someSprite.filters = [\n *      new GlowFilter(15, 2, 1, 0xFF0000, 0.5)\n *  ];\n */\nexport default class GlowFilter extends PIXI.Filter {\n\n    constructor(distance = 10, outerStrength = 4, innerStrength = 0, color = 0xffffff, quality = 0.1) {\n        super(vertex, fragment\n            .replace(/%QUALITY_DIST%/gi, '' + (1 / quality / distance).toFixed(7))\n            .replace(/%DIST%/gi, '' + distance.toFixed(7)));\n\n        this.uniforms.glowColor = new Float32Array([0, 0, 0, 1]);\n        this.distance = distance;\n        this.color = color;\n        this.outerStrength = outerStrength;\n        this.innerStrength = innerStrength;\n    }\n\n    /**\n     * The color of the glow.\n     * @member {number}\n     * @default 0xFFFFFF\n     */\n    get color() {\n        return PIXI.utils.rgb2hex(this.uniforms.glowColor);\n    }\n    set color(value) {\n        PIXI.utils.hex2rgb(value, this.uniforms.glowColor);\n    }\n\n    /**\n     * The distance of the glow. Make it 2 times more for resolution=2. It cant be changed after filter creation\n     * @member {number}\n     * @default 10\n     */\n    get distance() {\n        return this.uniforms.distance;\n    }\n    set distance(value) {\n        this.uniforms.distance = value;\n    }\n\n    /**\n     * The strength of the glow outward from the edge of the sprite.\n     * @member {number}\n     * @default 4\n     */\n    get outerStrength() {\n        return this.uniforms.outerStrength;\n    }\n    set outerStrength(value) {\n        this.uniforms.outerStrength = value;\n    }\n\n    /**\n     * The strength of the glow inward from the edge of the sprite.\n     * @member {number}\n     * @default 0\n     */\n    get innerStrength() {\n        return this.uniforms.innerStrength;\n    }\n    set innerStrength(value) {\n        this.uniforms.innerStrength = value;\n    }\n}"],"names":["super"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,IAAqB,UAAU;IAAqB,mBAErC,CAAC,QAAa,EAAE,aAAiB,EAAE,aAAiB,EAAE,KAAgB,EAAE,OAAa,EAAE;2CAA9E,GAAG,EAAE,CAAe;qDAAA,GAAG,CAAC,CAAe;qDAAA,GAAG,CAAC,CAAO;qCAAA,GAAG,QAAQ,CAAS;yCAAA,GAAG,GAAG;;QAC5FA,UAAK,KAAA,CAAC,MAAA,MAAM,EAAE,QAAQ;aACjB,OAAO,CAAC,kBAAkB,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,OAAO,GAAG,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;aACrE,OAAO,CAAC,UAAU,EAAE,EAAE,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEpD,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACzD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;KACtC;;;;;;4FAAA;;;;;;;IAOD,mBAAA,KAAS,mBAAG;QACR,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;KACtD,CAAA;IACD,mBAAA,KAAS,iBAAC,KAAK,EAAE;QACb,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;KACtD,CAAA;;;;;;;IAOD,mBAAA,QAAY,mBAAG;QACX,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;KACjC,CAAA;IACD,mBAAA,QAAY,iBAAC,KAAK,EAAE;QAChB,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,KAAK,CAAC;KAClC,CAAA;;;;;;;IAOD,mBAAA,aAAiB,mBAAG;QAChB,OAAO,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;KACtC,CAAA;IACD,mBAAA,aAAiB,iBAAC,KAAK,EAAE;QACrB,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,KAAK,CAAC;KACvC,CAAA;;;;;;;IAOD,mBAAA,aAAiB,mBAAG;QAChB,OAAO,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;KACtC,CAAA;IACD,mBAAA,aAAiB,iBAAC,KAAK,EAAE;QACrB,IAAI,CAAC,QAAQ,CAAC,aAAa,GAAG,KAAK,CAAC;KACvC,CAAA;;;;;EA5DmC,IAAI,CAAC;;;;;;;;;;;;;;;;"}