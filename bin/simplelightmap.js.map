{"version":3,"file":"simplelightmap.js","sources":["../src/simplelightmap/SimpleLightmapFilter.js"],"sourcesContent":["import vertex from './simpleLightmap.vert';\nimport fragment from './simpleLightmap.frag';\n\n/**\n* SimpleLightmap, originally by Oza94\n* http://www.html5gamedevs.com/topic/20027-pixijs-simple-lightmapping/\n* http://codepen.io/Oza94/pen/EPoRxj\n*\n* @class\n* @extends PIXI.Filter\n* @memberof PIXI.filters\n* @param {PIXI.Texture} lightmapTexture a texture where your lightmap is rendered\n* @param {Array<number>} ambientColor An RGBA array of the ambient color\n* @param {Array<number>} [resolution=[1, 1]] An array for X/Y resolution\n*\n* @example\n*  var lightmapTex = new PIXI.RenderTexture(renderer, 400, 300);\n*\n*  // ... render lightmap on lightmapTex\n*\n*  stageContainer.filters = [\n*    new SimpleLightmapFilter(lightmapTex, [0.3, 0.3, 0.7, 0.5], [1.0, 1.0])\n*  ];\n*/\nexport default class SimpleLightmapFilter extends PIXI.Filter {\n\n    constructor(lightmapTexture, ambientColor, resolution = [1, 1]) {    \n        super(vertex, fragment);\n        this.uniforms.u_lightmap = lightmapTexture;\n        this.uniforms.resolution = new Float32Array(resolution);\n        this.uniforms.ambientColor =  new Float32Array(ambientColor);\n    }\n\n\n    /**\n     * a texture where your lightmap is rendered\n     * @member {PIXI.Texture}\n     */\n    get texture() {\n        return this.uniforms.u_lightmap;\n    }\n    set texture(value) {\n        this.uniforms.u_lightmap = value;\n    }\n\n    /**\n     * An RGBA array of the ambient color\n     * @member {Array<number>}\n     */\n    get color() {\n        return this.uniforms.ambientColor;\n    }\n    set color(value) {\n        this.uniforms.ambientColor = new Float32Array(value);\n    }\n\n    /**\n     * An array for X/Y resolution\n     * @member {Array<number>}\n     */\n    get resolution() {\n        return this.uniforms.resolution;\n    }\n    set resolution(value) {\n        this.uniforms.resolution = new Float32Array(value);\n    }\n}\n"],"names":["super"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,IAAqB,oBAAoB;IAAqB,6BAE/C,CAAC,eAAe,EAAE,YAAY,EAAE,UAAmB,EAAE;+CAAX,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;;QAC1DA,UAAK,KAAA,CAAC,MAAA,MAAM,EAAE,QAAQ,CAAC,CAAC;QACxB,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,eAAe,CAAC;QAC3C,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,YAAY,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,QAAQ,CAAC,YAAY,IAAI,IAAI,YAAY,CAAC,YAAY,CAAC,CAAC;KAChE;;;;;;sEAAA;;;;;;;IAOD,mBAAA,OAAW,mBAAG;QACV,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;KACnC,CAAA;IACD,mBAAA,OAAW,iBAAC,KAAK,EAAE;QACf,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,KAAK,CAAC;KACpC,CAAA;;;;;;IAMD,mBAAA,KAAS,mBAAG;QACR,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;KACrC,CAAA;IACD,mBAAA,KAAS,iBAAC,KAAK,EAAE;QACb,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC;KACxD,CAAA;;;;;;IAMD,mBAAA,UAAc,mBAAG;QACb,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;KACnC,CAAA;IACD,mBAAA,UAAc,iBAAC,KAAK,EAAE;QAClB,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC;KACtD,CAAA;;;;;EAzC6C,IAAI,CAAC,MA0CtD;;;;;;;;;;;;;;;;"}